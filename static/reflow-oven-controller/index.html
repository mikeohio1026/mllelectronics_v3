<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Reflow Oven Controller</title>
	<style type="text/css">
		* {
			box-model: border-box;
		}

		html, body {
			font: 14pt 'Open Sans', 'Arial', sans-serif;
			background-color: #DDDDDD;
			color: #333333;
		}

		body {
			margin: 0 auto;
			max-width: 1200px;
			padding: 2rem 0.5rem 2rem 0.5rem;
		}

		header {
			width: 100%;
			padding-bottom: 2rem;
		}

		header h1 {
			display: block;
			font-size: 3rem;
			font-weight: 700;
			font-style: italic;
			width: 100%;
			text-align: center;
			margin: 0;
		}

		header h2 {
			display: block;
			font-size: 4rem;
			font-weight: 700;
			width: 100%;
			text-align: center;
			margin: 0;
		}

		header h3 {
			display: block;
			font-size: 2rem;
			font-weight: 400;
			width: 100%;
			text-align: center;
			margin: 0;
		}

		img {
			width: auto;
			height: auto;
			max-width: 100%;
		}

		.notice {
			padding: 1rem 1.5rem 1rem 1.5rem;
			background-color: #ff7;
			color: #440;
		}

		.info {
			padding: 1rem 1.5rem 1rem 1.5rem;
			background-color: #77cdff;
			color: #002b44;
		}

		#addons li {
			margin-bottom: 1em;
		}

		#addons select {
			font-size: inherit !important;
			min-width: 25em;
		}

		#addons span {
			font-style: italic;
		}

		table {
			border: 0;
			margin-top: 2em;
			margin-bottom: 2em;
		}

		table td {
			padding: 0.5em 0 0.5em 0;
		}

		table tr td:first-child {
			padding-right: 2em;
		}

		table input {
			width: 5em;
			font-size: inherit !important;
		}

		@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap');
	</style>
</head>
<body>
	<header>
		<h1>MLL Electronics</h1>
		<h2>Reflow Oven Controller</h2>
		<h3>A Raspberry Pi Zero-powered reflow oven controller.</h3>
	</header>

	<p><img src="Controller Photo.jpg" /></p>

	<p class="notice"><b><i>Orders placed by 12/17/2021 will ship the week of 12/20/2021. Orders placed after will ship beginning 01/01/2022. Lead may vary due to the current supply-chain situation.</i></b></p>
	<p class="info"><i>Please note that is is an early-access product. Additional features will be made available via software update starting early 2022.</i></p>

	<h1>Buy Now</h1>
	<h2><span id="unit-price">$xxx</span> each</h2>

	<h3>Basic Kit: $175</h3>
	<p>What's included:</p>
	<p><ul>
		<li>1x Controller with Raspberry Pi Zero</li>
		<li>1x 3.5" Capacitive Touch Display</li>
		<li>1x Display cable (10" length)</li>
		<li>Mounting hardware for controller and display</li>
	</ul></p>

	<h3>Add-ons</h3>
	<p><ul id="addons"></ul></p>

	<table>
		<tr><td><label for="quantity"><b>Quantity:</b></label></td><td><input type="number" name="quantity" value="1" min="1", max="10" /></td></tr>
		<tr><td><b>Shipping:</b></td><td><span id="shipping">$xx</span></td></tr>
		<tr><td><b>Total:</b></td><td><b><span id="total-price">$xxx</span></b></td></tr>
	</table>

	<div id="paypal-button-container"></div>
	<noscript><p><b>Please enable Javascript to purchase this product.</b></p></noscript>

	<h1>What is it?</h1>
	<p>This is an open source reflow oven controller based on the Raspberry Pi Zero 2 W. This controller allows almost any toaster or convection oven to be converted into a full-featured soldering reflow oven. It uses a PID control algorithm to precisely follow a temperature profile to achieve great reflow soldering results. The temperature profile can be adjusted with multiple points to suit any soldering requirements.</p>
	<p>Multiple solid-state relay outputs, thermocouple inputs, and additional I/O are included to support a wide variety of toaster and convection ovens.</p>
	<p>The controller can be operated from a 3.5‚Äù touchscreen via a simple interface or remotely controlled via a web interface for more complex setups.</p>
	<p>Features include:</p>
	<p><ul>
		<li>2x Thermocouple temperature inputs (K-, J-, T-, N-, S-, E-, B-, and R-Type supported)</li>
		<li>2x Solid-state relay outputs (software dual heating element control coming soon)</li>
		<li>1x General purpose output for convection fan control (built-in relay)</li>
		<li>1x General purpose input for emergency stop switch</li>
		<li>1x Servo output for automatic door opening during cooling cycle (software support coming soon)</li>
		<li>Built-in buzzer for audible notifications</li>
		<li>PID temperature control</li>
		<li>Support for multiple temperature profiles (software support coming soon)</li>
		<li>3.5" capacitive touchscreen for profile selection and quick adjustments</li>
		<li>Web interface for remote monitoring and complex profile adjustments</li>
		<li>Automatic software updates via WiFi</li>
	</ul></p>
	<p><img src="Controller Features.jpg" /></p>

	<h1>Why did you make it?</h1>
	<p>We wanted a more modern reflow oven controller kit that had features such as an intuitive touch screen interface, a commonly available microcontroller, and the ability easily to monitor/change profiles remotely as well as locally. Our design is able to address current issues with the supply chain situation as we have selected alternates for major components and are able to adapt quickly.</p>

	<h1>Additional items necessary for oven conversion</h1>
	<p>These items will need to be customer supplied and vary based on your own specific oven conversion.</p>
	<p><ul>
		<li>Toaster or convection oven</li>
		<li>Solid-state relay + heatsink</li>
		<li>Thermocouple(s)</li>
		<li>E-Stop button (optional)</li>
		<li>Power switch</li>
		<li>High temperature silicone sealant (optional)</li>
		<li>Insulation material</li>
		<li>Foil tape (optional)</li>
		<li>Wire (SSR wire must be appropriately sized for your oven wattage)</li>
		<li>Spade (fork) crimp terminals</li>
	</ul></p>
	<p>Check out our guide outlining general oven conversion steps: <i>Coming Soon</i>.</p>

	<h1>Specifications</h1>
	<p><ul>
		<li><b>Input Voltage:</b> 120-240V 50/60Hz 0.1A</li>
		<li><b>SSR control voltage:</b> 5V</li>
		<li><b>General-purpose output rating:</b> 250V 10A</li>
		<li><b>Supported thermocouple types:</b> K, J, T, N, S, E, B, and R</li>
		<li><b>Temperature control accuracy:</b> &#177;2&#176;C</li>
		<li><b>Controller size:</b> 158 x 63 mm</li>
		<li><b>Controller mounting:</b> M3 screws, 150 x 55 mm</li>
		<li><b>Display size:</b> 58 x 108 mm</li>
		<li><b>Display mounting:</b> M3 screws, 50 x 100 mm</li>
	</ul></p>

	<h1>Design Files</h1>
	<p>The design files and software are completely open-source and available on GitHub:</p>
	<p><ul>
		<li><b>Controller and Display Design Files:</b> <a href="https://github.com/codeThatThinks/oven-controller-hw">Link</a></li>
		<li><b>Controller Linux Image:</b> <a href="https://github.com/codeThatThinks/oven-controller-yocto">Link</a></li>
		<li><b>Controller Software:</b> <a href="https://github.com/codeThatThinks/oven-controller-gui">Link</a></li>
	</ul></p>

	<h1>Important Notice</h1>
	<p><b>This product is intended for "Qualified Persons" whom have significant knowledge and training associated with high voltage wiring. You acknoledge all the risks and dangers, including high temperatures and shock hazards, involved with the installation of this product. If you lack this specific knowledge and training, or do not feel comfortable with the installation steps required, seek installation by a trained professional.</b></p>
	<p>In no event shall we be liable for any direct, indirect, punitive, incidental, special consequential damages, to property or life, whatsoever arising out of or connected with the use or misuse of our products.</p>
	<p>The MLL Electronics Reflow Oven Controller is backed by a 1 year limited warranty against design or manufacturing defects.</p>

	<h1>Additional Photos</h1>
	<h2>Controller PCBA</h2>
	<p><img src="Controller Top.jpg" /></p>
	<p><img src="Controller Front.jpg" /></p>
	<p><img src="Controller Back.jpg" /></p>
	<h2>Display PCBA</h2>
	<p><img src="Display Front Back.jpg" /></p>
	<p><img src="Display Iso.jpg" /></p>
	<p><img src="Display Iso2.jpg" /></p>

	<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>
	<script src="https://www.paypal.com/sdk/js?client-id=AVVOpJGJ3c0DVh_Gei3VAAIjkM38XJitlFLmBAr4wk53TrgQGqeO0_G9vp5tO1fKcCioriZYYAOb9b1N&enable-funding=venmo&currency=USD" data-sdk-integration-source="button-factory"></script>
	<script type="text/javascript">
		var item = "Reflow Oven Controller";

		var base = {
			"name": "Basic Kit",
			"description": 'Includes controller, capacitive touch display, display cable, and mounting hardware for controller and display',
			"price": 175,
			"shipping": 10,
		};

		var addons = [
			{
				"name": "thermocouple",
				"title": "Thermocouple",
				"options": [
					{"text": "None", 									"quantity": 0,	"price": 0,		"shipping": 0},
					{"text": "K-type thermocouple with SS probe tip",	"quantity": 1,	"price": 12,	"shipping": 0,	"default": true},
					{"text": "K-type thermocouple with SS probe tip",	"quantity": 2,	"price": 12,	"shipping": 0},
				],
			},
			{
				"name": "ssr",
				"title": "Solid-state relay (SSR)",
				"options": [
					{"text": "None",									"quantity": 0,	"price": 0,		"shipping": 0},
					{"text": "25A SSR with heatsink",					"quantity": 1,	"price": 27, 	"shipping": 2,	"default": true},
					{"text": "25A SSR with heatsink",					"quantity": 2,	"price": 27,	"shipping": 2},
				],
			},
			{
				"name": "power-switch",
				"title": "Power switch",
				"options": [
					{"text": "None",									"quantity": 0,	"price": 0,		"shipping": 0},
					{"text": "22mm panel mount power switch",			"quantity": 1,	"price": 10,	"shipping": 1,	"default": true},
				],
			},
			{
				"name": "e-stop",
				"title": "E-Stop switch",
				"options": [
					{"text": "None",									"quantity": 0,	"price": 0,		"shipping": 0},
					{"text": "22mm panel mount e-stop switch",			"quantity": 1,	"price": 30,	"shipping": 1,	"default": true},
				],
			}
		];

		function calculate_price() {
			var unit_price = base["price"];
			var shipping = base["shipping"];

			var quantity = parseInt($('input[name="quantity"]').val(), 10);
			if(quantity < 1 || quantity > 10) {
				$('input[name="quantity"]').val(1);
			}

			$('#addons select').each(function() {
				var addon_i = parseInt($(this).attr("data-index"), 10);
				var option_i = parseInt($(this).val(), 10);

				var addon_price = addons[addon_i]["options"][option_i]["price"];
				var addon_shipping = addons[addon_i]["options"][option_i]["shipping"];
				var addon_quantity = addons[addon_i]["options"][option_i]["quantity"];

				if((addon_price + addon_shipping) > 0) {
					var text = "+$" + (addon_price * addon_quantity);
					if(addon_shipping > 0) text += " + $" + (addon_shipping * addon_quantity) + " shipping";
					$(this).parent().find('span').text(text);
				} else {
					$(this).parent().find('span').text("");
				}

				unit_price += addon_price * addon_quantity;
				shipping += addon_shipping * addon_quantity;
			});

			shipping *= quantity;
			var total_price = (unit_price * quantity) + shipping;

			$('#unit-price').text("$" + unit_price);
			$('#shipping').text("$" + shipping);
			$('#total-price').text("$" + total_price);

			return {"quantity": quantity, "unit_price": unit_price, "shipping": shipping, "total_price": total_price};
		}

		addons.forEach(function(item, index, arr) {
			var li = $('<li><label for="' + item["name"] + '">' + item["title"] + '</label><br><select data-index="' + index + '" name="' + item["name"] + '"></select> <span></span></li>');

			item["options"].forEach(function(item, index, arr) {
				var text = item["text"];
				if(item["quantity"] > 0) var text = item["quantity"] + "x " + text;

				var option = $('<option value="' + index + '">' + text + '</option>');
				if(item["default"]) option.attr("selected", "selected");
				li.find('select').append(option);
			});

			$('#addons').append(li);
		});

		calculate_price();
		$('input, select').change(calculate_price);

		paypal.Buttons({
			style: {
				color: 'gold',
				shape: 'rect',
				label: 'paypal',
				layout: 'vertical',
			},

			createOrder: function(data, actions) {
				var values = calculate_price();
				console.log("Calculated values:", values);

				var items = [
					{
						"name": base["name"],
						"description": base["description"],
						"unit_amount": {
							"currency_code": "USD",
							"value": base["price"],
						},
						"quantity": values["quantity"],
					}
				];

				$('select').each(function() {
					if($(this).find('option:selected').text() != "None") {
						var addon_i = parseInt($(this).attr("data-index"), 10);
						var option_i = parseInt($(this).val(), 10);

						var addon_price = addons[addon_i]["options"][option_i]["price"];
						var addon_quantity = addons[addon_i]["options"][option_i]["quantity"];

						items.push({
							"name": addons[addon_i]["options"][option_i]["text"],
							"unit_amount": {
								"currency_code": "USD",
								"value": addon_price,
							},
							"quantity": addon_quantity * values["quantity"],
						});
					}
				});

				return actions.order.create({
					"intent": "CAPTURE",
					"purchase_units": [
						{
							"description": item,
							"amount": {
								"currency_code": "USD",
								"value": values["total_price"],
								"breakdown": {
									"item_total": {
										"currency_code": "USD",
										"value": values["unit_price"] * values["quantity"],
									},
									"shipping": {
										"currency_code": "USD",
										"value": values["shipping"],
									},
								},
							},

							"items": items,
						}
					],
				});
			},

			onApprove: function(data, actions) {
				return actions.order.capture().then(function (orderData) {
					console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));

					$('#paypal-button-container').html('<p style="font-size:24pt;font-weight:bold">Thanks for the order! You will receive an email once your order ships.</p>');
				});
			},

			onError: function(err) {
				console.log(err);
			}
		}).render('#paypal-button-container');
	</script>
</body>
</html>
